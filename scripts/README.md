# ğŸš€ BaSui çš„ API è‡ªåŠ¨ç”Ÿæˆæ™ºèƒ½ç›‘å¬å™¨

> è®©åç«¯ API å˜æ›´è‡ªåŠ¨åŒæ­¥åˆ°å‰ç«¯ï¼Œå‘Šåˆ«æ‰‹åŠ¨æ›´æ–°ï¼ğŸ‰

---

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

âœ¨ **æ™ºèƒ½ç›‘å¬**ï¼šè‡ªåŠ¨æ£€æµ‹åç«¯ Controller æ–‡ä»¶å˜æ›´  
ğŸ¯ **ç²¾å‡†ç”Ÿæˆ**ï¼šä»…åœ¨æœ‰å®é™…å˜æ›´æ—¶è§¦å‘ API é‡æ–°ç”Ÿæˆ  
âš¡ **é˜²æŠ–å¤„ç†**ï¼šé¿å…é¢‘ç¹ä¿å­˜æ–‡ä»¶å¯¼è‡´çš„é‡å¤ç”Ÿæˆ  
ğŸ® **å¿«æ·é”®**ï¼šVSCode é›†æˆï¼Œä¸€å¥—å¿«æ·é”®æå®šæ‰€æœ‰æ“ä½œ  
ğŸ“¢ **é€šçŸ¥æé†’**ï¼šç”Ÿæˆå®Œæˆåç³»ç»Ÿé€šçŸ¥ï¼Œæ— éœ€å…³æ³¨ç»ˆç«¯  
ğŸ› ï¸ **å¤šå¹³å°æ”¯æŒ**ï¼šLinuxã€Macã€Windows å…¨å¹³å°å…¼å®¹  
ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ç›‘å¬æ¨¡å¼ã€å»¶è¿Ÿæ—¶é—´ç­‰å‚æ•°  

---

## ğŸ® å¿«é€Ÿä¸Šæ‰‹

### å‡†å¤‡å·¥ä½œï¼šå®‰è£…ä¾èµ–

**æ–¹å¼ Aï¼šç‹¬ç«‹å®‰è£…ï¼ˆscripts æ–‡ä»¶å¤¹ï¼‰** ğŸ¯
```bash
# è¿›å…¥ scripts æ–‡ä»¶å¤¹
cd scripts

# å®‰è£…ä¾èµ–ï¼ˆchokidarï¼‰
npm install

# åœ¨ scripts æ–‡ä»¶å¤¹å†…å¯åŠ¨
npm run watch
# æˆ–
node watch-api.js
```

**æ–¹å¼ Bï¼šé¡¹ç›®æ ¹ç›®å½•å®‰è£…** ğŸ“¦
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
pnpm install
```

### æ–¹å¼ 1ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
# åœ¨å‰ç«¯æ ¹ç›®å½•æ‰§è¡Œ
pnpm api:watch

# æˆ–è€…åœ¨ scripts æ–‡ä»¶å¤¹å†…æ‰§è¡Œ
cd scripts && npm run watch
```

### æ–¹å¼ 2ï¼šVSCode å¿«æ·é”®ï¼ˆæ¨èç†Ÿæ‰‹ï¼‰

| å¿«æ·é”® | åŠŸèƒ½ | è¯´æ˜ |
|--------|------|------|
| `Ctrl+Shift+W` | å¯åŠ¨ API ç›‘å¬å™¨ | å¼€å¯è‡ªåŠ¨ç›‘å¬ |
| `Ctrl+Shift+S` | åœæ­¢ API ç›‘å¬å™¨ | åœæ­¢è‡ªåŠ¨ç›‘å¬ |
| `Ctrl+Shift+G` | æ‰‹åŠ¨ç”Ÿæˆ API | å¼ºåˆ¶ç«‹å³ç”Ÿæˆ |
| `Ctrl+Alt+G` | å¿«é€Ÿç”Ÿæˆ API | é™é»˜æ¨¡å¼ç”Ÿæˆ |
| `Ctrl+Shift+R` | æ¸…ç†é‡å»º API | å®Œå…¨æ¸…ç†åé‡å»º |

### æ–¹å¼ 3ï¼šVSCode ä»»åŠ¡é¢æ¿
1. æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
2. è¾“å…¥ `Tasks: Run Task`  
3. é€‰æ‹©éœ€è¦çš„ API ç”Ÿæˆä»»åŠ¡

---

## ğŸ”§ é«˜çº§é…ç½®

### ç›‘å¬æ¨¡å¼é€‰æ‹©

#### Node.js ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
```bash
pnpm api:watch
```
**ä¼˜ç‚¹ï¼š** è·¨å¹³å°å…¼å®¹æ€§å¥½ã€åŠŸèƒ½å…¨ã€æ”¯æŒç³»ç»Ÿé€šçŸ¥  
**ç¼ºç‚¹ï¼š** éœ€è¦ Node.js ç¯å¢ƒï¼ˆä½†æœ‰ Node ç¯å¢ƒåŸºæœ¬éƒ½æœ‰ï¼‰

#### Bash ç‰ˆæœ¬ï¼ˆLinux/WSL/Macï¼‰
```bash
pnpm api:watch:bash
```
**ä¼˜ç‚¹ï¼š** æ€§èƒ½æ›´å¥½ã€ä¾èµ–æ›´å°‘  
**ç¼ºç‚¹ï¼š** éœ€è¦å®‰è£… `inotify-tools` æˆ– `fswatch`

### é˜²æŠ–å»¶è¿Ÿè°ƒæ•´

é»˜è®¤é˜²æŠ–å»¶è¿Ÿä¸º 2 ç§’ï¼Œå¯åœ¨è„šæœ¬æ–‡ä»¶ä¸­ä¿®æ”¹ï¼š

```javascript
// scripts/watch-api.js
const debounceDelay: 2000; // æ”¹ä¸ºå…¶ä»–æ¯«ç§’æ•°
```

```bash
# scripts/watch-api.sh
DEBOUNCE_DELAY=2  # æ”¹ä¸ºå…¶ä»–ç§’æ•°
```

### è‡ªå®šä¹‰ç›‘å¬æ–‡ä»¶æ¨¡å¼

é»˜è®¤ç›‘å¬æ‰€æœ‰ `*Controller*.java` æ–‡ä»¶ï¼Œå¯è‡ªå®šä¹‰ï¼š

```javascript
// scripts/watch-api.js
watchPattern: '*Controller*.java',  // ä¿®æ”¹è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
scripts/
â”œâ”€â”€ watch-api.js          # Node.js ç‰ˆæœ¬ç›‘å¬å™¨ï¼ˆæ¨èï¼‰
â”œâ”€â”€ watch-api.sh           # Bash ç‰ˆæœ¬ç›‘å¬å™¨ï¼ˆLinux/Macï¼‰
â”œâ”€â”€ README.md              # æœ¬è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ package.json           # ç›‘å¬å™¨ä¾èµ–é…ç½® âœ¨ NEW!
â”œâ”€â”€ package-lock.json      # npm é”å®šæ–‡ä»¶
â””â”€â”€ node_modules/          # ä¾èµ–åŒ…ï¼ˆchokidarï¼‰
```

VSCode é›†æˆï¼š
```
.vscode/
â”œâ”€â”€ tasks.json             # VSCode ä»»åŠ¡é…ç½®
â”œâ”€â”€ keybindings.json       # å¿«æ·é”®é…ç½®
â””â”€â”€ settings.json          # å…¶ä»–è®¾ç½®
```

---

## ğŸ› ï¸ å·¥ä½œåŸç†è§£æ

### ç›‘å¬æµç¨‹
```
åç«¯ Controller å˜æ›´
        â†“
æ–‡ä»¶ç›‘å¬å™¨æ£€æµ‹åˆ°å˜æ›´
        â†“
é˜²æŠ–å¤„ç†ï¼ˆé˜²æ­¢é‡å¤è§¦å‘ï¼‰
        â†“
æ‰§è¡Œ pnpm api:generate
        â†“
Maven å¯åŠ¨åç«¯å¹¶å¯¼å‡º OpenAPI
        â†“
openapi-generator ç”Ÿæˆå‰ç«¯ API
        â†“
ç³»ç»Ÿé€šçŸ¥ï¼š"API ç”Ÿæˆå®Œæˆï¼"
```

### é˜²æŠ–æœºåˆ¶
```mermaid
graph LR
    A[æ–‡ä»¶å˜æ›´] --> B[å¼€å§‹è®¡æ—¶]
    B --> C{æ–°å˜æ›´ï¼Ÿ}
    C -->|æ˜¯| B
    C -->|å¦| D[æ‰§è¡Œç”Ÿæˆ]
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: ç›‘å¬å™¨å¯åŠ¨å¤±è´¥ï¼Œæç¤ºæƒé™é”™è¯¯**
```bash
# Linux/Mac è§£å†³æ–¹æ¡ˆ
chmod +x scripts/watch-api.sh
pnpm api:watch:bash

# æˆ–è€…ä½¿ç”¨ Node.js ç‰ˆæœ¬
pnpm api:watch
```

**Q: ç›‘å¬å™¨è¿è¡Œä½†ä¸ç”Ÿæˆ API**
```bash
# æ£€æŸ¥åç«¯æ˜¯å¦èƒ½æ­£å¸¸å¯åŠ¨
cd ../backend && mvn spring-boot:run

# æ£€æŸ¥ API ç”Ÿæˆå‘½ä»¤æ˜¯å¦å¯ç”¨
pnpm api:generate

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
pnpm api:watch --verbose
```

**Q: VSCode å¿«æ·é”®ä¸ç”Ÿæ•ˆ**
```bash
# æ£€æŸ¥ .vscode/tasks.json å’Œ .vscode/keybindings.json æ˜¯å¦å­˜åœ¨
ls -la .vscode/

# é‡æ–°åŠ è½½ VSCode çª—å£
Ctrl+Shift+P â†’ "Developer: Reload Window"
```

**Q: Windows ä¸‹ç›‘å¬ä¸å·¥ä½œ**
```bash
# ä½¿ç”¨ Node.js ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
pnpm api:watch

# æˆ–å®‰è£… Git Bash + ä½¿ç”¨ Bash ç‰ˆæœ¬
pnpm api:watch:bash
```

### æ—¥å¿—åˆ†æ

ç›‘å¬å™¨ä¼šè¾“å‡ºè¯¦ç»†çš„è¿è¡Œæ—¥å¿—ï¼š

```bash
âœ… [INFO] ç¯å¢ƒæ£€æŸ¥é€šè¿‡ï¼
âœ… chokidar å·²å®‰è£…
âœ… ä½¿ç”¨ chokidar (æ¨èæ¨¡å¼)
ğŸ” å¯åŠ¨æ–‡ä»¶ç›‘å¬å™¨...
ğŸ“ ç›‘å¬ç›®å½•: ../backend/src
ğŸ¯ æ–‡ä»¶æ¨¡å¼: *Controller*.java
â±ï¸ é˜²æŠ–å»¶è¿Ÿ: 2ç§’
æŒ‰ Ctrl+C åœæ­¢ç›‘å¬

ğŸ“ æ£€æµ‹åˆ° Controller å˜æ›´: UserController.java
â³ ç­‰å¾…å…¶ä»–å¯èƒ½çš„å˜æ›´...
ğŸ”§ å¼€å§‹ç”Ÿæˆå‰ç«¯ API...
ğŸ‰ API ç”Ÿæˆå®Œæˆï¼è€—æ—¶ 15 ç§’
ğŸ“Š å…±ç”Ÿæˆ 142 ä¸ª TypeScript æ–‡ä»¶
ğŸ”„ ç»§ç»­ç›‘å¬åç«¯å˜æ›´...
```

---

## ğŸ¯ æœ€ä½³å®è·µå»ºè®®

### å¼€å‘æµç¨‹å»ºè®®

1. **é¡¹ç›®å¼€å§‹æ—¶**ï¼šå¯åŠ¨ç›‘å¬å™¨ `pnpm api:watch`

2. **æ–°å¢ Controller å**ï¼š
   ```bash
   # å¿«é€Ÿæ‰‹åŠ¨ç”Ÿæˆï¼Œç¡®ä¿ç±»å‹åŒæ­¥
   Ctrl+Shift+G  # æˆ– pnpm api:generate
   ```

3. **é‡æ„ API æ—¶**ï¼š
   ```bash
   # æ¸…ç†é‡å»ºï¼Œé¿å…æ—§ä»£ç æ®‹ç•™
   Ctrl+Shift+R  # æˆ– pnpm api:clean && pnpm api:generate
   ```

4. **é¢‘ç¹ä¿®æ”¹æ—¶**ï¼š
   ```bash
   # ä½¿ç”¨å¿«é€Ÿé™é»˜æ¨¡å¼ï¼Œå‡å°‘ç»ˆç«¯å¹²æ‰°
   Ctrl+Alt+G
   ```

### å›¢é˜Ÿåä½œå»ºè®®

1. **Git æäº¤å‰**ï¼šç¡®ä¿ API å·²åŒæ­¥
   ```bash
   # åœ¨ .git/hooks/pre-commit ä¸­æ·»åŠ 
   pnpm api:generate || echo "API ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»£ç ï¼"
   ```

2. **CI/CD é›†æˆ**ï¼š
   ```bash
   # åœ¨ CI/CD æµç¨‹ä¸­
   - pnpm api:generate
   - pnpm build:all
   ```

3. **IDE ç»Ÿä¸€é…ç½®**ï¼š
   ```bash
   # å°† .vscode/ ç›®å½•æäº¤åˆ° Git
   # ç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„å¿«æ·é”®å’Œä»»åŠ¡é…ç½®
   ```

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°

### v1.0.0 ç‰¹æ€§
âœ… åŸºç¡€æ–‡ä»¶ç›‘å¬åŠŸèƒ½  
âœ… è·¨å¹³å°å…¼å®¹æ”¯æŒ  
âœ… VSCode é›†æˆ  
âœ… é˜²æŠ–ä¼˜åŒ–  
âœ… ç³»ç»Ÿé€šçŸ¥æé†’  

### æœªæ¥è®¡åˆ’
ğŸš€ Webhook é›†æˆï¼ˆGitHub/GitLabï¼‰  
ğŸš€ API å˜æ›´è‡ªåŠ¨é€šçŸ¥ Slack/é’‰é’‰  
ğŸš€ æ™ºèƒ½å·®å¼‚åˆ†æï¼ˆä»…ç”Ÿæˆå˜æ›´éƒ¨åˆ†ï¼‰  
ğŸš€ API æ–‡æ¡£è‡ªåŠ¨æ›´æ–°  
ğŸš€ å•å…ƒæµ‹è¯•è‡ªåŠ¨ç”Ÿæˆ  

---

## ğŸ’¬ åé¦ˆå»ºè®®

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– PRï¼

**ä½œè€…ï¼š** BaSui ğŸ˜  
**çŠ¶æ€ï¼š** å¼€å‘ä¸­ ğŸš§  
**æ›´æ–°ï¼š** 2025-11-02  

---

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [chokidar](https://github.com/paulmillr/chokidar) - è·¨å¹³å°æ–‡ä»¶ç›‘å¬
- [fswatch](https://github.com/emcrisostomo/fswatch) - Mac æ–‡ä»¶ç›‘å¬
- [inotify-tools](https://github.com/inotify-tools/inotify-tools) - Linux æ–‡ä»¶ç›‘å¬
- [VSCode API](https://code.visualstudio.com/api) - IDE é›†æˆ
