# 校园轻享集市系统 - 环境配置模板
# Author: BaSui 😎
# Description: 复制此文件为 .env 并修改配置
# 使用方法: cp .env.example .env

# ==================== 应用配置 ====================
APP_NAME=campus-marketplace
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8200

# ==================== PostgreSQL 配置 ====================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=campus_marketplace_dev
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_POOL_MIN_IDLE=5
DB_POOL_MAX_SIZE=20

# ==================== Flyway 配置 ====================
FLYWAY_ENABLED=true
FLYWAY_BASELINE_ON_MIGRATE=true
FLYWAY_BASELINE_VERSION=0
FLYWAY_CLEAN_DISABLED=false

# ==================== Redis 配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_POOL_MAX_ACTIVE=20
REDIS_POOL_MAX_IDLE=10
REDIS_POOL_MIN_IDLE=5

# ==================== MongoDB 配置 ====================
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DATABASE=campus_marketplace_dev
MONGO_USERNAME=mongo
MONGO_PASSWORD=mongo
MONGO_AUTH_DATABASE=admin

# ==================== 邮件配置 ====================
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_NAME=校园轻享集市

# ==================== JWT 配置 ====================
JWT_SECRET=dev-secret-key-for-testing-only-do-not-use-in-production-environment
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# ==================== AES 加密配置 ====================
AES_KEY=dev-aes-key-1234

# ==================== 验证码配置 ====================
VERIFICATION_CODE_LENGTH=6
VERIFICATION_CODE_EXPIRATION=600
VERIFICATION_RATE_LIMIT=60

# ==================== 2FA 配置 ====================
TWO_FACTOR_ENABLED=true
TWO_FACTOR_CODE_EXPIRATION=600

# ==================== 文件上传配置 ====================
FILE_UPLOAD_DIR=./uploads/dev
FILE_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif
FILE_MAX_SIZE=5242880
FILE_MAX_REQUEST_SIZE=20971520

# ==================== 支付宝配置（沙箱环境）====================
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_GATEWAY_URL=https://openapi.alipaydev.com/gateway.do

# ==================== 微信支付配置（沙箱环境）====================
WECHAT_APP_ID=
WECHAT_MCH_ID=
WECHAT_API_KEY=

# ==================== 佣金配置 ====================
COMMISSION_RATE=0.01
COMMISSION_MIN_RATE=0.005
COMMISSION_MAX_RATE=0.05

# ==================== 限流配置 ====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT_LIMIT=100
RATE_LIMIT_DEFAULT_PERIOD=60

# ==================== 日志配置 ====================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_FILE_PATH=logs/campus-marketplace.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_HISTORY=30

# ==================== Actuator 配置 ====================
ACTUATOR_ENDPOINTS=*
ACTUATOR_HEALTH_SHOW_DETAILS=always

# ==================== API 文档配置 ====================
SPRINGDOC_ENABLED=true
SWAGGER_UI_ENABLED=true

# ==================== 调试配置 ====================
DEBUG_ENABLED=true
DEBUG_SHOW_ERROR_DETAILS=true
