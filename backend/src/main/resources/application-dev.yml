# ğŸ”¥ å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆSpring Boot DevTools çƒ­é‡è½½ï¼‰
spring:
  config:
    activate:
      on-profile: dev

  # ğŸ”¥ DevTools çƒ­é‡è½½é…ç½®
  devtools:
    restart:
      # å¯ç”¨çƒ­é‡å¯ï¼ˆä¿®æ”¹ä»£ç è‡ªåŠ¨é‡å¯ï¼‰
      enabled: true
      # ç›‘æ§è·¯å¾„ï¼ˆé»˜è®¤classpathä¸‹æ‰€æœ‰å†…å®¹ï¼‰
      additional-paths: src/main/java
      # æ’é™¤è·¯å¾„ï¼ˆé™æ€èµ„æºä¸è§¦å‘é‡å¯ï¼‰
      exclude: static/**,public/**,templates/**,META-INF/**
      # é‡å¯è§¦å‘æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œè°ƒè¯•ç”¨ï¼‰
      # trigger-file: .reloadtrigger
      # é‡å¯ç­–ç•¥ï¼ˆfast = åªé‡å¯è‡ªå®šä¹‰ç±»ï¼Œä¸é‡å¯ä¾èµ–çš„ jarï¼‰
      poll-interval: 1000  # è½®è¯¢é—´éš” 1ç§’
      quiet-period: 400    # é™é»˜æœŸ 400msï¼ˆé¿å…é¢‘ç¹é‡å¯ï¼‰
    livereload:
      # å¯ç”¨ LiveReloadï¼ˆæµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ï¼Œéœ€å®‰è£…æµè§ˆå™¨æ’ä»¶ï¼‰
      enabled: true
      port: 35729
    add-properties: true

  # ğŸ”¥ ç¦ç”¨ Spring Boot é»˜è®¤é™æ€èµ„æºè‡ªåŠ¨é…ç½®ï¼ˆå…³é”®ä¿®å¤ï¼ï¼‰
  web:
    resources:
      add-mappings: false  # ç¦ç”¨é»˜è®¤é™æ€èµ„æºæ˜ å°„ï¼Œé¿å…ä¸ API è·¯ç”±å†²çª

  # JPA é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
  jpa:
    hibernate:
      # å¼€å‘ç¯å¢ƒä½¿ç”¨ updateï¼ˆè‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼‰
      ddl-auto: update
    show-sql: ${JPA_SHOW_SQL:false}  # âœ… BaSui: ä» .env è¯»å–ï¼Œé»˜è®¤ false
    properties:
      hibernate:
        format_sql: ${JPA_FORMAT_SQL:false}  # âœ… BaSui: ä» .env è¯»å–ï¼Œé»˜è®¤ false
        # ç¦ç”¨äºŒçº§ç¼“å­˜ï¼ˆé¿å…å¼€å‘æ—¶ç¼“å­˜é—®é¢˜ï¼‰
        cache:
          use_second_level_cache: false
          use_query_cache: false

  # ç¼“å­˜é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒä½¿ç”¨ç®€å•ç¼“å­˜ï¼‰
  cache:
    type: simple

  # Flyway é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¯é€‰ç¦ç”¨ï¼‰
  flyway:
    enabled: false  # å¼€å‘æ—¶å¯ç¦ç”¨ Flywayï¼Œä½¿ç”¨ JPA çš„ ddl-auto

  # çƒ­éƒ¨ç½²é…ç½®ï¼ˆå…¼å®¹è€ç‰ˆæœ¬ï¼‰
  freemarker:
    cache: false
  thymeleaf:
    cache: false

# æ—¥å¿—é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
logging:
  level:
    root: INFO
    com.campus.marketplace: DEBUG
    org.hibernate.SQL: ${LOG_LEVEL_SQL:WARN}  # âœ… BaSui: æ”¹ä¸ºè¯»å–ç¯å¢ƒå˜é‡,é»˜è®¤WARN
    org.hibernate.type.descriptor.sql.BasicBinder: ${LOG_LEVEL_BINDER:WARN}  # âœ… BaSui: å‚æ•°ç»‘å®šä¹Ÿé™ä½æ—¥å¿—çº§åˆ«
    org.springframework.security: DEBUG
    org.redisson: WARN  # Redisson æ—¥å¿—å¤ªåµï¼Œé™ä½çº§åˆ«
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}"

# åº”ç”¨çº§é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
app:
  cache:
    prewarm:
      enabled: false  # å¼€å‘ç¯å¢ƒç¦ç”¨ç¼“å­˜é¢„çƒ­
  redis:
    mode: redis  # å¼€å‘ç¯å¢ƒä½¿ç”¨çœŸå® Redisï¼ˆå¦‚æœæœ¬åœ°æ²¡æœ‰ Redisï¼Œå¯æ”¹ä¸º in-memoryï¼‰
  alert:
    enabled: false  # å¼€å‘ç¯å¢ƒç¦ç”¨å‘Šè­¦

# Actuator é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¼€æ”¾æ›´å¤šç«¯ç‚¹ï¼‰
management:
  endpoints:
    web:
      exposure:
        include: "*"  # å¼€å‘ç¯å¢ƒå¼€æ”¾æ‰€æœ‰ç«¯ç‚¹
  endpoint:
    health:
      show-details: always  # å§‹ç»ˆæ˜¾ç¤ºå¥åº·æ£€æŸ¥è¯¦æƒ…

# Swagger é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒå¯ç”¨ï¼‰
springdoc:
  api-docs:
    enabled: true
  swagger-ui:
    enabled: true

# æœåŠ¡å™¨é…ç½®
server:
  port: 8200
  servlet:
    context-path: /api
