# ğŸ“‹ æ ¡å›­è½»äº«é›†å¸‚ - APIæ¥å£å®Œæ•´æ¸…å•

> **ä½œè€…**: BaSui ğŸ˜
> **æœ€åæ›´æ–°**: 2025-11-08
> **ç‰ˆæœ¬**: v3.0 (å…¨é¢æ›´æ–°)

---

## ğŸ‰ æ¥å£è¦†ç›–ç‡ç»Ÿè®¡

```
ğŸ“Š æ€»ä½“è¦†ç›–ç‡: 100% (120+/120+) ğŸŠ

âœ… å·²å®Œå…¨å®ç°: 16 ä¸ªç®¡ç†ç«¯æ¨¡å— + 15 ä¸ªé—¨æˆ·ç«¯æ¨¡å—
âš ï¸ éƒ¨åˆ†å®ç°: 0 ä¸ªæ¨¡å—
âŒ å®Œå…¨ç¼ºå¤±: 0 ä¸ªæ¨¡å—

ğŸ“ˆ æ¥å£åˆ†ç±»:
- ç®¡ç†ç«¯æ¥å£ (Admin): ~55 ä¸ª
- é—¨æˆ·ç«¯æ¥å£ (Portal): ~65 ä¸ª
- æ€»è®¡: ~120+ ä¸ª
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- ğŸ“‹ [æ¥å£åˆ†ç±»æ–‡æ¡£](./APIæ¥å£åˆ†ç±»æ–‡æ¡£.md) - æŒ‰åŠŸèƒ½åˆ†ç±»ã€å‰ç«¯å¯¹æ¥æƒ…å†µ
- âš¡ [å¿«é€Ÿç´¢å¼•](./APIå¿«é€Ÿç´¢å¼•.md) - å¿«é€ŸæŸ¥æ‰¾ã€å¸¸ç”¨æ¥å£é€ŸæŸ¥
- ğŸ—ï¸ [åç«¯æ¥å£ä¸æƒé™](./åç«¯æ¥å£ä¸æƒé™ä¸€è§ˆè¡¨.md) - æƒé™é…ç½®å‚è€ƒ

---

## ğŸ“‘ ç›®å½•å¯¼èˆª

### ç®¡ç†ç«¯æ¥å£ (Admin APIs)
1. [ç”¨æˆ·ç®¡ç†](#1ï¸âƒ£-ç”¨æˆ·ç®¡ç†æ¨¡å—)
2. [ç”³è¯‰ç®¡ç†](#2ï¸âƒ£-ç”³è¯‰ç®¡ç†æ¨¡å—)
3. [çº çº·ç®¡ç†](#3ï¸âƒ£-çº çº·ç®¡ç†æ¨¡å—)
4. [ç»Ÿè®¡åˆ†æ](#4ï¸âƒ£-ç»Ÿè®¡åˆ†ææ¨¡å—)
5. [è§’è‰²æƒé™ç®¡ç†](#5ï¸âƒ£-è§’è‰²æƒé™ç®¡ç†æ¨¡å—)
6. [é™æµç®¡ç†](#6ï¸âƒ£-é™æµç®¡ç†æ¨¡å—)
7. [åˆè§„ç®¡ç†](#7ï¸âƒ£-åˆè§„ç®¡ç†æ¨¡å—)
8. [è½¯åˆ é™¤ç®¡ç†](#8ï¸âƒ£-è½¯åˆ é™¤ç®¡ç†æ¨¡å—)
9. [æ ¡å›­ç®¡ç†](#9ï¸âƒ£-æ ¡å›­ç®¡ç†æ¨¡å—)
10. [åˆ†ç±»ç®¡ç†](#ğŸ”Ÿ-åˆ†ç±»ç®¡ç†æ¨¡å—)
11. [æ ‡ç­¾ç®¡ç†](#1ï¸âƒ£1ï¸âƒ£-æ ‡ç­¾ç®¡ç†æ¨¡å—)
12. [åŠŸèƒ½å¼€å…³ç®¡ç†](#1ï¸âƒ£2ï¸âƒ£-åŠŸèƒ½å¼€å…³ç®¡ç†æ¨¡å—)
13. [ç³»ç»Ÿç›‘æ§](#1ï¸âƒ£3ï¸âƒ£-ç³»ç»Ÿç›‘æ§æ¨¡å—)
14. [é€šçŸ¥æ¨¡æ¿ç®¡ç†](#1ï¸âƒ£4ï¸âƒ£-é€šçŸ¥æ¨¡æ¿ç®¡ç†æ¨¡å—)
15. [é»‘åå•ç®¡ç†](#1ï¸âƒ£5ï¸âƒ£-é»‘åå•ç®¡ç†æ¨¡å—)
16. [æ“ä½œæ—¥å¿—ç®¡ç†](#1ï¸âƒ£6ï¸âƒ£-æ“ä½œæ—¥å¿—ç®¡ç†æ¨¡å—) ğŸ†•

### é—¨æˆ·ç«¯æ¥å£ (Portal APIs)
- [è®¤è¯æ¥å£](#è®¤è¯æ¥å£-auth)
- [ç”¨æˆ·æ¥å£](#ç”¨æˆ·æ¥å£-user) â­ å·²æ‰©å±•
- [å•†å“æ¥å£](#å•†å“æ¥å£-goods)
- [è®¢å•æ¥å£](#è®¢å•æ¥å£-order)
- [æ”¶è—æ¥å£](#æ”¶è—æ¥å£-favorite)
- [æ”¯ä»˜æ¥å£](#æ”¯ä»˜æ¥å£-payment)
- [æ¶ˆæ¯æ¥å£](#æ¶ˆæ¯æ¥å£-message) ğŸ†•
- [å¸–å­æ¥å£](#å¸–å­æ¥å£-post) ğŸ†•
- [æ¨èæ¥å£](#æ¨èæ¥å£-recommend) ğŸ†•
- [ä¸¾æŠ¥æ¥å£](#ä¸¾æŠ¥æ¥å£-report) ğŸ†•
- [æ–‡ä»¶ä¸Šä¼ æ¥å£](#æ–‡ä»¶ä¸Šä¼ æ¥å£-file) ğŸ†•
- [å¯¼å‡ºæ¥å£](#å¯¼å‡ºæ¥å£-export) ğŸ†•
- [éšç§åˆè§„æ¥å£](#éšç§åˆè§„æ¥å£-privacy) ğŸ†•
- [æ’¤é”€æ“ä½œæ¥å£](#æ’¤é”€æ“ä½œæ¥å£-revert) ğŸ†•

---

## âœ… ç®¡ç†ç«¯æ¥å£ (Admin APIs)

æ‰€æœ‰ç®¡ç†ç«¯æ¥å£ç»Ÿä¸€ä½¿ç”¨å‰ç¼€ï¼š`/api/admin/*`

---

### 1ï¸âƒ£ **ç”¨æˆ·ç®¡ç†æ¨¡å—**

**Controller**: `AdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/users`
**æƒé™è¦æ±‚**: `SYSTEM_USER_BAN` / `SYSTEM_USER_VIEW`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/admin/users/ban` | å°ç¦ç”¨æˆ· | å·²å®ç° |
| âœ… | POST | `/admin/users/{userId}/unban` | è§£å°ç”¨æˆ· | å·²å®ç° |
| âœ… | POST | `/admin/users/auto-unban` | è‡ªåŠ¨è§£å°è¿‡æœŸç”¨æˆ· | å·²å®ç° |
| âœ… | GET | `/admin/users/banned` | æŸ¥è¯¢å°ç¦è®°å½•åˆ—è¡¨ | å·²å®ç° |

---

### 2ï¸âƒ£ **ç”³è¯‰ç®¡ç†æ¨¡å—**

**Controller**: `AppealAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/appeals`
**æƒé™è¦æ±‚**: `SYSTEM_APPEAL_VIEW` / `SYSTEM_APPEAL_HANDLE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/appeals` | æŸ¥è¯¢ç”³è¯‰åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰ | å·²å®ç° |
| âœ… | GET | `/admin/appeals/{id}` | è·å–ç”³è¯‰è¯¦æƒ… | å·²å®ç° |
| âœ… | GET | `/admin/appeals/pending` | æŸ¥è¯¢å¾…å®¡æ ¸ç”³è¯‰ | å·²å®ç° |
| âœ… | POST | `/admin/appeals/{appealId}/review` | å•ä¸ªå®¡æ ¸ç”³è¯‰ | å·²å®ç° |
| âœ… | POST | `/admin/appeals/batch-review` | æ‰¹é‡å®¡æ ¸ç”³è¯‰ | å·²å®ç° |
| âœ… | GET | `/admin/appeals/statistics` | ç”³è¯‰ç»Ÿè®¡ | å·²å®ç° |
| âœ… | POST | `/admin/appeals/mark-expired` | æ ‡è®°è¿‡æœŸç”³è¯‰ | å·²å®ç° |
| âœ… | GET | `/admin/appeals/status/{status}` | æŒ‰çŠ¶æ€æŸ¥è¯¢ç”³è¯‰ | å·²å®ç° |

---

### 3ï¸âƒ£ **çº çº·ç®¡ç†æ¨¡å—**

**Controller**: `AdminDisputeController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/disputes`
**æƒé™è¦æ±‚**: `SYSTEM_DISPUTE_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/disputes` | æŸ¥è¯¢çº çº·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰ | å·²å®ç° |
| âœ… | GET | `/admin/disputes/{id}` | è·å–çº çº·è¯¦æƒ… | å·²å®ç° |
| âœ… | GET | `/admin/disputes/pending` | æŸ¥è¯¢å¾…å¤„ç†çº çº· | å·²å®ç° |
| âœ… | GET | `/admin/disputes/my` | æŸ¥è¯¢æˆ‘çš„ä»²è£çº çº· | å·²å®ç° |
| âœ… | POST | `/admin/disputes/{id}/claim` | è®¤é¢†çº çº· | å·²å®ç° |
| âœ… | POST | `/admin/disputes/{id}/arbitrate` | ä»²è£çº çº· | å·²å®ç° |
| âœ… | POST | `/admin/disputes/{id}/evidence` | æäº¤è¯æ®ææ–™ | å·²å®ç° |
| âœ… | POST | `/admin/disputes/{id}/close` | å…³é—­çº çº· | å·²å®ç° |
| âœ… | POST | `/admin/disputes/batch-assign` | æ‰¹é‡åˆ†é…ä»²è£å‘˜ | å·²å®ç° |

**çº çº·ç»Ÿè®¡**:

**Controller**: `DisputeStatisticsController.java`
**è·¯å¾„å‰ç¼€**: `/api/disputes/statistics`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/disputes/statistics` | çº çº·ç»Ÿè®¡æ•°æ® | å·²å®ç° |

---

### 4ï¸âƒ£ **ç»Ÿè®¡åˆ†ææ¨¡å—**

**Controller**: `AdminStatisticsController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/statistics`
**æƒé™è¦æ±‚**: `SYSTEM_MONITOR_VIEW`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/statistics/overview` | ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡ | å·²å®ç° |
| âœ… | GET | `/admin/statistics/trend` | è¶‹åŠ¿ç»Ÿè®¡æ•°æ® | å·²å®ç° |
| âœ… | GET | `/admin/statistics/revenue` | æ”¶å…¥è¶‹åŠ¿ | å·²å®ç° |
| âœ… | GET | `/admin/statistics/top-goods` | çƒ­é—¨å•†å“æ’è¡Œ | å·²å®ç° |
| âœ… | GET | `/admin/statistics/top-users` | æ´»è·ƒç”¨æˆ·æ’è¡Œ | å·²å®ç° |
| âœ… | GET | `/admin/statistics/categories` | åˆ†ç±»ç»Ÿè®¡ | å·²å®ç° |
| âœ… | GET | `/admin/statistics/today` | ä»Šæ—¥ç»Ÿè®¡ | å·²å®ç° |

---

### 5ï¸âƒ£ **è§’è‰²æƒé™ç®¡ç†æ¨¡å—**

**Controller**: `RoleAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/roles`
**æƒé™è¦æ±‚**: `SYSTEM_ROLE_ASSIGN`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/roles` | æŸ¥è¯¢è§’è‰²åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/admin/roles/{roleId}` | è·å–è§’è‰²è¯¦æƒ… | å·²å®ç° |
| âœ… | POST | `/admin/roles` | åˆ›å»ºè§’è‰² | å·²å®ç° |
| âœ… | PUT | `/admin/roles/{roleId}` | æ›´æ–°è§’è‰² | å·²å®ç° |
| âœ… | DELETE | `/admin/roles/{roleId}` | åˆ é™¤è§’è‰² | å·²å®ç° |

---

### 6ï¸âƒ£ **é™æµç®¡ç†æ¨¡å—**

**Controller**: `RateLimitAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/rate-limit`
**æƒé™è¦æ±‚**: `SYSTEM_RATE_LIMIT_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/rate-limit/rules` | è·å–é™æµè§„åˆ™ | å·²å®ç° |
| âœ… | POST | `/admin/rate-limit/enabled/{enabled}` | åˆ‡æ¢é™æµå¼€å…³ | å·²å®ç° |
| âœ… | POST | `/admin/rate-limit/whitelist/users/{userId}` | æ·»åŠ ç”¨æˆ·ç™½åå• | å·²å®ç° |
| âœ… | DELETE | `/admin/rate-limit/whitelist/users/{userId}` | ç§»é™¤ç”¨æˆ·ç™½åå• | å·²å®ç° |
| âœ… | POST | `/admin/rate-limit/whitelist/ips/{ip}` | æ·»åŠ IPç™½åå• | å·²å®ç° |
| âœ… | DELETE | `/admin/rate-limit/whitelist/ips/{ip}` | ç§»é™¤IPç™½åå• | å·²å®ç° |
| âœ… | POST | `/admin/rate-limit/blacklist/ips/{ip}` | æ·»åŠ IPé»‘åå• | å·²å®ç° |
| âœ… | DELETE | `/admin/rate-limit/blacklist/ips/{ip}` | ç§»é™¤IPé»‘åå• | å·²å®ç° |

---

### 7ï¸âƒ£ **åˆè§„ç®¡ç†æ¨¡å—**

**Controller**: `ComplianceAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/compliance`
**æƒé™è¦æ±‚**: `SYSTEM_COMPLIANCE_REVIEW`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/admin/compliance/whitelist` | æ·»åŠ åˆè§„ç™½åå• | å·²å®ç° |
| âœ… | DELETE | `/admin/compliance/whitelist/{id}` | ç§»é™¤åˆè§„ç™½åå• | å·²å®ç° |
| âœ… | GET | `/admin/compliance/audit` | æŸ¥è¯¢åˆè§„å®¡è®¡æ—¥å¿— | å·²å®ç° |

---

### 8ï¸âƒ£ **è½¯åˆ é™¤ç®¡ç†æ¨¡å—**

**Controller**: `SoftDeleteAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/soft-delete`
**æƒé™è¦æ±‚**: `SYSTEM_DATA_REVERT`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/soft-delete/targets` | è·å–æ”¯æŒè½¯åˆ é™¤çš„å®ä½“ç±»å‹ | å·²å®ç° |
| âœ… | POST | `/admin/soft-delete/{entity}/{id}/restore` | æ¢å¤è½¯åˆ é™¤æ•°æ® | å·²å®ç° |
| âœ… | DELETE | `/admin/soft-delete/{entity}/{id}/purge` | å½»åº•åˆ é™¤æ•°æ® | å·²å®ç° |

---

### 9ï¸âƒ£ **æ ¡å›­ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°

**Controller**: `CampusController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/campuses`
**æƒé™è¦æ±‚**: `SYSTEM_CAMPUS_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/campuses` | æŸ¥è¯¢æ ¡å›­åˆ—è¡¨ | å·²å®ç° |
| âœ… | POST | `/admin/campuses` | åˆ›å»ºæ ¡å›­ | å·²å®ç° |
| âœ… | PUT | `/admin/campuses/{id}` | æ›´æ–°æ ¡å›­ä¿¡æ¯ | å·²å®ç° |
| âœ… | DELETE | `/admin/campuses/{id}` | åˆ é™¤æ ¡å›­ | å·²å®ç° |
| âœ… | POST | `/admin/campuses/migrate-users/validate` | æ ¡åŒºè¿ç§»éªŒè¯ | å·²å®ç° |
| âœ… | POST | `/admin/campuses/migrate-users` | æ‰§è¡Œæ ¡åŒºç”¨æˆ·è¿ç§» | å·²å®ç° |

**é¢å¤–åŠŸèƒ½**: æ”¯æŒç”¨æˆ·è¿ç§»ï¼ŒåŒ…å«è¿ç§»å‰éªŒè¯å’Œæ‰¹é‡è¿ç§»åŠŸèƒ½ ğŸŒŸ

---

### ğŸ”Ÿ **åˆ†ç±»ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°

**Controller**: `CategoryController.java`
**è·¯å¾„å‰ç¼€**: `/api/categories` (å…¬å¼€) + `/api/admin/categories` (ç®¡ç†)
**æƒé™è¦æ±‚**: `SYSTEM_CATEGORY_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | æƒé™ | çŠ¶æ€ |
|-----|------|------|------|------|------|
| âœ… | GET | `/categories/tree` | è·å–åˆ†ç±»æ ‘ | å…¬å¼€ | å·²å®ç° |
| âœ… | POST | `/admin/categories` | åˆ›å»ºåˆ†ç±» | ç®¡ç†å‘˜ | å·²å®ç° |
| âœ… | PUT | `/admin/categories/{id}` | æ›´æ–°åˆ†ç±» | ç®¡ç†å‘˜ | å·²å®ç° |
| âœ… | DELETE | `/admin/categories/{id}` | åˆ é™¤åˆ†ç±» | ç®¡ç†å‘˜ | å·²å®ç° |

**è®¾è®¡äº®ç‚¹**: åŒºåˆ†å…¬å¼€æ¥å£ï¼ˆå‰å°å±•ç¤ºï¼‰å’Œç®¡ç†æ¥å£ï¼ˆåå°ç®¡ç†ï¼‰âœ¨

---

### 1ï¸âƒ£1ï¸âƒ£ **æ ‡ç­¾ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°

**Controller**: `TagController.java`
**è·¯å¾„å‰ç¼€**: `/api/tags` (å…¬å¼€) + `/api/admin/tags` (ç®¡ç†)
**æƒé™è¦æ±‚**: `SYSTEM_TAG_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | æƒé™ | çŠ¶æ€ |
|-----|------|------|------|------|------|
| âœ… | GET | `/tags` | è·å–æ ‡ç­¾åˆ—è¡¨ | å…¬å¼€ | å·²å®ç° |
| âœ… | POST | `/admin/tags` | åˆ›å»ºæ ‡ç­¾ | ç®¡ç†å‘˜ | å·²å®ç° |
| âœ… | PUT | `/admin/tags/{id}` | æ›´æ–°æ ‡ç­¾ | ç®¡ç†å‘˜ | å·²å®ç° |
| âœ… | DELETE | `/admin/tags/{id}` | åˆ é™¤æ ‡ç­¾ | ç®¡ç†å‘˜ | å·²å®ç° |
| âœ… | POST | `/admin/tags/merge` | åˆå¹¶æ ‡ç­¾ | ç®¡ç†å‘˜ | å·²å®ç° |

**é¢å¤–åŠŸèƒ½**: æ”¯æŒæ ‡ç­¾åˆå¹¶ï¼Œé¿å…é‡å¤æ ‡ç­¾ ğŸŒŸ

---

### 1ï¸âƒ£2ï¸âƒ£ **åŠŸèƒ½å¼€å…³ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°ï¼ˆè·¯å¾„å·²ä¿®å¤ï¼‰

**Controller**: `FeatureFlagController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/feature-flags` âœ… (å·²ä¿®å¤)
**æƒé™è¦æ±‚**: `SYSTEM_CONFIG_UPDATE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/feature-flags` | æŸ¥è¯¢åŠŸèƒ½å¼€å…³åˆ—è¡¨ | å·²å®ç° |
| âœ… | POST | `/admin/feature-flags` | åˆ›å»º/æ›´æ–°åŠŸèƒ½å¼€å…³ | å·²å®ç° |
| âœ… | POST | `/admin/feature-flags/refresh` | åˆ·æ–°å¼€å…³ç¼“å­˜ | å·²å®ç° |
| âœ… | DELETE | `/admin/feature-flags/{key}` | åˆ é™¤åŠŸèƒ½å¼€å…³ | å·²å®ç° |

**é¢å¤–åŠŸèƒ½**:
- æ”¯æŒ Upsert æ“ä½œï¼ˆè‡ªåŠ¨åˆ¤æ–­æ–°å¢/æ›´æ–°ï¼‰
- æ”¯æŒç¼“å­˜åˆ·æ–°
- æ”¯æŒç°åº¦å‘å¸ƒç­–ç•¥ ğŸŒŸ

**è·¯å¾„ä¿®å¤**: âœ… å·²ä» `/feature-flags` æ›´æ–°ä¸º `/admin/feature-flags`

---

### 1ï¸âƒ£3ï¸âƒ£ **ç³»ç»Ÿç›‘æ§æ¨¡å—** âœ… å·²å®Œæ•´å®ç°ï¼ˆè·¯å¾„å·²ä¿®å¤ï¼‰

**Controller**: `SystemMonitorController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/monitor` âœ… (å·²ä¿®å¤)
**æƒé™è¦æ±‚**: `SYSTEM_MONITOR_VIEW` / `SYSTEM_MONITOR_MANAGE`

#### **å¥åº·æ£€æŸ¥**
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/monitor/health` | ç³»ç»Ÿå¥åº·æ£€æŸ¥ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/metrics` | è·å–ç³»ç»ŸæŒ‡æ ‡ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/health/history` | å¥åº·æ£€æŸ¥å†å² | å·²å®ç° |

#### **API æ€§èƒ½ç›‘æ§**
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/monitor/api/slow-queries` | æ…¢æŸ¥è¯¢æ—¥å¿— | å·²å®ç° |
| âœ… | GET | `/admin/monitor/api/statistics` | ç«¯ç‚¹æ€§èƒ½ç»Ÿè®¡ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/api/errors` | é”™è¯¯è¯·æ±‚æ—¥å¿— | å·²å®ç° |
| âœ… | GET | `/admin/monitor/api/qps` | QPS ç»Ÿè®¡ | å·²å®ç° |

#### **é”™è¯¯æ—¥å¿—ç›‘æ§**
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/monitor/errors/unresolved` | æœªè§£å†³é”™è¯¯ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/errors/by-severity` | æŒ‰ä¸¥é‡çº§åˆ«ç­›é€‰ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/errors/statistics` | é”™è¯¯ç»Ÿè®¡ | å·²å®ç° |
| âœ… | POST | `/admin/monitor/errors/{errorId}/resolve` | æ ‡è®°é”™è¯¯å·²è§£å†³ | å·²å®ç° |

#### **æ€§èƒ½æŠ¥è¡¨**
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/monitor/report` | ç”Ÿæˆæ€§èƒ½æŠ¥è¡¨ | å·²å®ç° |
| âœ… | GET | `/admin/monitor/health-score` | å¥åº·åº¦è¯„åˆ† | å·²å®ç° |

#### **æ•°æ®æ¸…ç†**
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | DELETE | `/admin/monitor/cleanup` | æ¸…ç†å†å²æ•°æ® | å·²å®ç° |

**è·¯å¾„ä¿®å¤**: âœ… å·²ä» `/monitor` æ›´æ–°ä¸º `/admin/monitor`

---

### 1ï¸âƒ£4ï¸âƒ£ **é€šçŸ¥æ¨¡æ¿ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°

**Controller**: `NotificationTemplateAdminController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/notification-templates`
**æƒé™è¦æ±‚**: `SYSTEM_NOTIFICATION_MANAGE`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/notification-templates` | è·å–é€šçŸ¥æ¨¡æ¿åˆ—è¡¨ | å·²å®ç° |
| âœ… | POST | `/admin/notification-templates` | åˆ›å»ºé€šçŸ¥æ¨¡æ¿ | å·²å®ç° |
| âœ… | DELETE | `/admin/notification-templates/{id}` | åˆ é™¤é€šçŸ¥æ¨¡æ¿ | å·²å®ç° |
| âœ… | POST | `/admin/notification-templates/render/{code}` | æ¸²æŸ“é€šçŸ¥æ¨¡æ¿ | å·²å®ç° |

---

### 1ï¸âƒ£5ï¸âƒ£ **é»‘åå•ç®¡ç†æ¨¡å—** âœ… å·²å®Œæ•´å®ç°ï¼ˆç®¡ç†å‘˜åŠŸèƒ½å·²è¡¥å……ï¼‰

---

### 1ï¸âƒ£6ï¸âƒ£ **æ“ä½œæ—¥å¿—ç®¡ç†æ¨¡å—** ğŸ†• å·²å®Œæ•´å®ç°

**Controller**: `OperationLogController.java`
**è·¯å¾„å‰ç¼€**: `/api/admin/logs/operations`
**æƒé™è¦æ±‚**: `SYSTEM_AUDIT_VIEW`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/logs/operations` | æŸ¥è¯¢æ“ä½œæ—¥å¿—åˆ—è¡¨ï¼ˆåˆ†é¡µ+ç»Ÿè®¡ï¼‰ | å·²å®ç° |

**åŠŸèƒ½äº®ç‚¹**:
- æ”¯æŒå¤šç»´åº¦ç­›é€‰ï¼šæ“ä½œäººIDã€æ“ä½œç±»å‹ã€æ—¶é—´èŒƒå›´
- è¿”å›æ•°æ®åŒ…å«ï¼šæ—¥å¿—åˆ—è¡¨ + ç»Ÿè®¡æ•°æ®ï¼ˆæ€»æ•°ã€æ“ä½œç±»å‹åˆ†å¸ƒç­‰ï¼‰
- åŸºäº AuditLog å®ç°ï¼Œè®°å½•æ‰€æœ‰æ•æ„Ÿæ“ä½œ ğŸŒŸ

#### **ç”¨æˆ·ç«¯æ¥å£** (BlacklistController)
**è·¯å¾„å‰ç¼€**: `/api/blacklist`
**æƒé™è¦æ±‚**: `ROLE_USER`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/blacklist/block/{blockedUserId}` | æ·»åŠ åˆ°é»‘åå• | å·²å®ç° |
| âœ… | DELETE | `/blacklist/unblock/{blockedUserId}` | ä»é»‘åå•ç§»é™¤ | å·²å®ç° |
| âœ… | GET | `/blacklist/list` | æŸ¥è¯¢é»‘åå•åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/blacklist/check/{blockedUserId}` | æ£€æŸ¥æ˜¯å¦æ‹‰é»‘ | å·²å®ç° |

#### **ç®¡ç†å‘˜æ¥å£** (BlacklistAdminController) ğŸ†•
**è·¯å¾„å‰ç¼€**: `/api/admin/blacklist`
**æƒé™è¦æ±‚**: `SYSTEM_USER_BAN` / `SYSTEM_USER_VIEW`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/admin/blacklist` | æŸ¥è¯¢æ‰€æœ‰é»‘åå•è®°å½•ï¼ˆåˆ†é¡µï¼‰ | ğŸ†• å·²å®ç° |
| âœ… | GET | `/admin/blacklist/by-user/{userId}` | æŸ¥è¯¢æŒ‡å®šç”¨æˆ·çš„é»‘åå• | ğŸ†• å·²å®ç° |
| âœ… | GET | `/admin/blacklist/blocked-by/{blockedUserId}` | æŸ¥è¯¢è°æ‹‰é»‘äº†æŒ‡å®šç”¨æˆ· | ğŸ†• å·²å®ç° |
| âœ… | POST | `/admin/blacklist/batch-unblock` | æ‰¹é‡è§£é™¤é»‘åå• | ğŸ†• å·²å®ç° |
| âœ… | GET | `/admin/blacklist/statistics` | é»‘åå•ç»Ÿè®¡æ•°æ® | ğŸ†• å·²å®ç° |
| âœ… | GET | `/admin/blacklist/check-relation` | æ£€æŸ¥ç”¨æˆ·é»‘åå•å…³ç³» | ğŸ†• å·²å®ç° |

**ç®¡ç†å‘˜åŠŸèƒ½äº®ç‚¹**:
- æ‰¹é‡æŸ¥è¯¢ï¼šæ”¯æŒæŒ‰æ‹‰é»‘è€…ã€è¢«æ‹‰é»‘è€…ç­›é€‰
- å…³ç³»æŸ¥è¯¢ï¼šæŸ¥è¯¢åŒå‘é»‘åå•å…³ç³»
- æ‰¹é‡æ“ä½œï¼šæ‰¹é‡è§£é™¤é»‘åå•
- ç»Ÿè®¡åˆ†æï¼šé»‘åå•æ€»æ•°ã€æ´»è·ƒæ‹‰é»‘è€…ã€è¢«æ‹‰é»‘æœ€å¤šçš„ç”¨æˆ· ğŸŒŸ

---

## ğŸŒ é—¨æˆ·ç«¯æ¥å£ (Portal APIs)

### **è®¤è¯æ¥å£** (Auth)

**Controller**: `AuthController.java`
**è·¯å¾„å‰ç¼€**: `/api/auth`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/auth/register` | ç”¨æˆ·æ³¨å†Œ | å·²å®ç° |
| âœ… | POST | `/auth/login` | ç”¨æˆ·ç™»å½• | å·²å®ç° |
| âœ… | POST | `/auth/logout` | ç”¨æˆ·ç™»å‡º | å·²å®ç° |
| âœ… | POST | `/auth/refresh` | åˆ·æ–°Token | å·²å®ç° |
| âœ… | GET | `/auth/check-username` | æ ¡éªŒç”¨æˆ·å | å·²å®ç° |

---

### **ç”¨æˆ·æ¥å£** (User)

**Controller**: `UserController.java`
**è·¯å¾„å‰ç¼€**: `/api/users`

#### åŸºç¡€èµ„æ–™ç®¡ç†
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/users/profile` | è·å–å½“å‰ç”¨æˆ·èµ„æ–™ | å·²å®ç° |
| âœ… | GET | `/users/{userId}` | è·å–æŒ‡å®šç”¨æˆ·èµ„æ–™ | å·²å®ç° |
| âœ… | PUT | `/users/profile` | æ›´æ–°ç”¨æˆ·èµ„æ–™ | å·²å®ç° |
| âœ… | PUT | `/users/password` | ä¿®æ”¹å¯†ç  | å·²å®ç° |

#### ç™»å½•è®¾å¤‡ç®¡ç† ğŸ†•
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/users/{userId}/devices` | è·å–ç™»å½•è®¾å¤‡åˆ—è¡¨ | å·²å®ç° |
| âœ… | DELETE | `/users/{userId}/devices/{deviceId}` | è¸¢å‡ºç™»å½•è®¾å¤‡ | å·²å®ç° |

#### é‚®ç®±/æ‰‹æœºéªŒè¯ ğŸ†•
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/users/email/code` | å‘é€é‚®ç®±éªŒè¯ç  | å·²å®ç° |
| âœ… | POST | `/users/phone/code` | å‘é€æ‰‹æœºéªŒè¯ç  | å·²å®ç° |
| âœ… | POST | `/users/{userId}/email` | ç»‘å®šé‚®ç®± | å·²å®ç° |
| âœ… | POST | `/users/{userId}/phone` | ç»‘å®šæ‰‹æœºå· | å·²å®ç° |

#### ä¸¤æ­¥éªŒè¯ï¼ˆ2FAï¼‰ğŸ†•
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/users/{userId}/2fa/enable` | å¯ç”¨ä¸¤æ­¥éªŒè¯ | å·²å®ç° |
| âœ… | POST | `/users/{userId}/2fa/verify` | éªŒè¯å¹¶ç¡®è®¤ä¸¤æ­¥éªŒè¯ | å·²å®ç° |
| âœ… | POST | `/users/{userId}/2fa/disable` | å…³é—­ä¸¤æ­¥éªŒè¯ | å·²å®ç° |

---

### **å•†å“æ¥å£** (Goods)

**Controller**: `GoodsController.java`
**è·¯å¾„å‰ç¼€**: `/api/goods`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/goods` | å‘å¸ƒç‰©å“ | å·²å®ç° |
| âœ… | GET | `/goods` | æŸ¥è¯¢ç‰©å“åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/goods/{id}` | è·å–ç‰©å“è¯¦æƒ… | å·²å®ç° |

---

### **è®¢å•æ¥å£** (Order)

**Controller**: `OrderController.java`
**è·¯å¾„å‰ç¼€**: `/api/orders`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/orders` | åˆ›å»ºè®¢å• | å·²å®ç° |
| âœ… | GET | `/orders/buyer` | ä¹°å®¶è®¢å•åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/orders/seller` | å–å®¶è®¢å•åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/orders/{orderNo}` | è®¢å•è¯¦æƒ… | å·²å®ç° |

---

### **æ”¶è—æ¥å£** (Favorite)

**Controller**: `FavoriteController.java`
**è·¯å¾„å‰ç¼€**: `/api/favorites`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/favorites/{goodsId}` | æ·»åŠ æ”¶è— | å·²å®ç° |
| âœ… | DELETE | `/favorites/{goodsId}` | å–æ¶ˆæ”¶è— | å·²å®ç° |
| âœ… | GET | `/favorites` | æˆ‘çš„æ”¶è—åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/favorites/{goodsId}/check` | æ£€æŸ¥æ˜¯å¦æ”¶è— | å·²å®ç° |

---

### **æ”¯ä»˜æ¥å£** (Payment)

**Controller**: `PaymentController.java`
**è·¯å¾„å‰ç¼€**: `/api/payment`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/payment/create` | åˆ›å»ºæ”¯ä»˜è®¢å• | å·²å®ç° |
| âœ… | POST | `/payment/wechat/notify` | å¾®ä¿¡æ”¯ä»˜å›è°ƒ | å·²å®ç° |
| âœ… | GET | `/payment/status/{orderNo}` | æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€ | å·²å®ç° |

---

### **æ¶ˆæ¯æ¥å£** (Message) ğŸ†•

**Controller**: `MessageController.java`
**è·¯å¾„å‰ç¼€**: `/api/messages`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/messages/send` | å‘é€æ¶ˆæ¯ | å·²å®ç° |
| âœ… | GET | `/messages/conversations` | è·å–ä¼šè¯åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/messages/conversations/{conversationId}` | è·å–èŠå¤©è®°å½• | å·²å®ç° |
| âœ… | GET | `/messages/unread-count` | è·å–æœªè¯»æ¶ˆæ¯æ•° | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: æ”¯æŒæ–‡æœ¬/å›¾ç‰‡/å•†å“å¡ç‰‡æ¶ˆæ¯ï¼Œå®æ—¶ç§ä¿¡åŠŸèƒ½

---

### **å¸–å­æ¥å£** (Post) ğŸ†•

**Controller**: `PostController.java`
**è·¯å¾„å‰ç¼€**: `/api/posts`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/posts` | å‘å¸ƒå¸–å­ | å·²å®ç° |
| âœ… | GET | `/posts` | æŸ¥è¯¢å¸–å­åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/posts/{id}` | è·å–å¸–å­è¯¦æƒ… | å·²å®ç° |
| âœ… | PUT | `/posts/{id}` | æ›´æ–°å¸–å­ | å·²å®ç° |
| âœ… | DELETE | `/posts/{id}` | åˆ é™¤å¸–å­ | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: è®ºå›å¸–å­å‘å¸ƒã€æŸ¥è¯¢ã€å®¡æ ¸åŠŸèƒ½

---

### **æ¨èæ¥å£** (Recommend) ğŸ†•

**Controller**: `RecommendController.java`
**è·¯å¾„å‰ç¼€**: `/api/recommend`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | GET | `/recommend/hot` | çƒ­é—¨æ¦œå• | å·²å®ç° |
| âœ… | GET | `/recommend/personalized` | ä¸ªæ€§åŒ–æ¨è | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: æŒ‰æ ¡åŒºè·å–çƒ­é—¨ç‰©å“æ¦œå•ï¼Œæ”¯æŒä¸ªæ€§åŒ–æ¨è

---

### **ä¸¾æŠ¥æ¥å£** (Report) ğŸ†•

**Controller**: `ReportController.java`
**è·¯å¾„å‰ç¼€**: `/api/reports`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/reports` | åˆ›å»ºä¸¾æŠ¥ | å·²å®ç° |
| âœ… | GET | `/reports/my` | æˆ‘çš„ä¸¾æŠ¥åˆ—è¡¨ | å·²å®ç° |
| âœ… | GET | `/reports/{id}` | è·å–ä¸¾æŠ¥è¯¦æƒ… | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: ä¸¾æŠ¥è¿è§„å†…å®¹ï¼ˆå¸–å­ã€å•†å“ç­‰ï¼‰

---

### **æ–‡ä»¶ä¸Šä¼ æ¥å£** (File) ğŸ†•

**Controller**: `FileController.java`
**è·¯å¾„å‰ç¼€**: `/api/files`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/files/upload` | ä¸Šä¼ å›¾ç‰‡ | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: ä¸Šä¼ å•ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œè¿”å›è®¿é—®URLï¼Œæ”¯æŒé™æµï¼ˆ30æ¬¡/åˆ†é’Ÿï¼‰

---

### **å¯¼å‡ºæ¥å£** (Export) ğŸ†•

**Controller**: `ExportController.java`
**è·¯å¾„å‰ç¼€**: `/api/exports`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/exports` | ç”³è¯·å¯¼å‡º | å·²å®ç° |
| âœ… | GET | `/exports/{id}` | æŸ¥è¯¢å¯¼å‡ºä»»åŠ¡ | å·²å®ç° |
| âœ… | GET | `/exports/{id}/download` | ä¸‹è½½å¯¼å‡ºæ–‡ä»¶ | å·²å®ç° |
| âœ… | POST | `/exports/{id}/cancel` | å–æ¶ˆå¯¼å‡ºä»»åŠ¡ | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: æ•°æ®å¯¼å‡ºä»»åŠ¡ç”³è¯·ã€æŸ¥è¯¢ä¸ä¸‹è½½ï¼Œç³»ç»Ÿå¼‚æ­¥ç”Ÿæˆæ–‡ä»¶

---

### **éšç§åˆè§„æ¥å£** (Privacy) ğŸ†•

**Controller**: `PrivacyController.java`
**è·¯å¾„å‰ç¼€**: `/api/privacy`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/privacy` | åˆ›å»ºéšç§è¯·æ±‚ | å·²å®ç° |
| âœ… | GET | `/privacy/my` | æˆ‘çš„éšç§è¯·æ±‚åˆ—è¡¨ | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: æäº¤æ•°æ®å¯¼å‡ºæˆ–åˆ é™¤è¯·æ±‚ï¼Œç³»ç»Ÿä¼šå¼‚æ­¥å¤„ç†

---

### **æ’¤é”€æ“ä½œæ¥å£** (Revert) ğŸ†•

**Controller**: `RevertController.java`
**è·¯å¾„å‰ç¼€**: `/api/revert`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|-----|------|------|------|------|
| âœ… | POST | `/revert/request` | ç”³è¯·æ’¤é”€æ“ä½œ | å·²å®ç° |
| âœ… | GET | `/revert/my` | æˆ‘çš„æ’¤é”€ç”³è¯·åˆ—è¡¨ | å·²å®ç° |

**åŠŸèƒ½è¯´æ˜**: æ’¤é”€æ•æ„Ÿæ“ä½œï¼ˆå¦‚è¯¯åˆ é™¤ï¼‰ï¼Œéœ€ç®¡ç†å‘˜å®¡æ‰¹

---

## ğŸ”§ æœ€è¿‘æ›´æ–°è®°å½•

### 2025-11-08 - v3.0 å…¨é¢æ›´æ–° ğŸ‰
- âœ… **ç”¨æˆ·æ¥å£æ‰©å±•**ï¼šæ–°å¢ç™»å½•è®¾å¤‡ç®¡ç†ï¼ˆ2ä¸ªæ¥å£ï¼‰ã€é‚®ç®±/æ‰‹æœºéªŒè¯ï¼ˆ4ä¸ªæ¥å£ï¼‰ã€ä¸¤æ­¥éªŒè¯ï¼ˆ3ä¸ªæ¥å£ï¼‰
- âœ… **æ–°å¢æ“ä½œæ—¥å¿—ç®¡ç†æ¨¡å—**ï¼š`OperationLogController`ï¼Œæ”¯æŒå¤šç»´åº¦ç­›é€‰å’Œç»Ÿè®¡
- âœ… **æ–°å¢8ä¸ªé—¨æˆ·ç«¯æ¨¡å—**ï¼šæ¶ˆæ¯ã€å¸–å­ã€æ¨èã€ä¸¾æŠ¥ã€æ–‡ä»¶ä¸Šä¼ ã€å¯¼å‡ºã€éšç§åˆè§„ã€æ’¤é”€æ“ä½œ
- âœ… **ç®¡ç†ç«¯æ¥å£å®Œå–„**ï¼šç”¨æˆ·ç®¡ç†æ–°å¢å°ç¦è®°å½•æŸ¥è¯¢æ¥å£
- ğŸ“Š **æ¥å£æ€»æ•°çªç ´120+**ï¼šç®¡ç†ç«¯55ä¸ªï¼Œé—¨æˆ·ç«¯65ä¸ª
- ğŸŠ **æ–‡æ¡£ç»“æ„ä¼˜åŒ–**ï¼šæŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»ï¼Œå¢åŠ åŠŸèƒ½è¯´æ˜

### 2025-11-07 - v2.0 æ›´æ–°
- âœ… ä¿®å¤ `FeatureFlagController` è·¯å¾„å‰ç¼€ï¼š`/feature-flags` â†’ `/admin/feature-flags`
- âœ… ä¿®å¤ `SystemMonitorController` è·¯å¾„å‰ç¼€ï¼š`/monitor` â†’ `/admin/monitor`
- âœ… è¡¥å……é»‘åå•ç®¡ç†å‘˜æ¥å£ï¼šæ–°å¢ `BlacklistAdminController`ï¼ŒåŒ…å«æ‰¹é‡æŸ¥è¯¢ã€ç»Ÿè®¡ã€æ‰¹é‡è§£é™¤åŠŸèƒ½
- âœ… å‰ç«¯æœåŠ¡å±‚è·¯å¾„åŒæ­¥æ›´æ–°ï¼š`featureFlag.ts` å’Œ `monitor.ts`
- ğŸ‰ **æ¥å£è¦†ç›–ç‡è¾¾åˆ° 100%**

### 2025-11-06 - åˆå§‹ç‰ˆæœ¬
- ğŸ“ åˆ›å»ºAPIæ¥å£æ–‡æ¡£
- ğŸ“Š ç»Ÿè®¡æ¥å£è¦†ç›–ç‡ï¼š57.8%

---

## ğŸ“Š æ¥å£ç»Ÿè®¡åˆ†æ

### æŒ‰åŠŸèƒ½æ¨¡å—ç»Ÿè®¡

| æ¨¡å— | æ¥å£æ•° | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|-----|--------|------|-------|
| ç³»ç»Ÿç›‘æ§ | 14 | âœ… å®Œæ•´ | P1 |
| çº çº·ç®¡ç† | 10 | âœ… å®Œæ•´ | P0 |
| ç”³è¯‰ç®¡ç† | 8 | âœ… å®Œæ•´ | P0 |
| é™æµç®¡ç† | 8 | âœ… å®Œæ•´ | P1 |
| ç»Ÿè®¡åˆ†æ | 7 | âœ… å®Œæ•´ | P0 |
| æ ¡å›­ç®¡ç† | 6 | âœ… å®Œæ•´ | P0 |
| é»‘åå•ç®¡ç† | 10 | âœ… å®Œæ•´ | P1 |
| è§’è‰²æƒé™ | 5 | âœ… å®Œæ•´ | P0 |
| åˆ†ç±»ç®¡ç† | 4 | âœ… å®Œæ•´ | P0 |
| æ ‡ç­¾ç®¡ç† | 5 | âœ… å®Œæ•´ | P0 |
| åŠŸèƒ½å¼€å…³ | 4 | âœ… å®Œæ•´ | P0 |
| é€šçŸ¥æ¨¡æ¿ | 4 | âœ… å®Œæ•´ | P1 |
| åˆè§„ç®¡ç† | 3 | âœ… å®Œæ•´ | P1 |
| è½¯åˆ é™¤ç®¡ç† | 3 | âœ… å®Œæ•´ | P1 |
| ç”¨æˆ·ç®¡ç† | 4 | âœ… å®Œæ•´ | P0 |

---

## ğŸ¯ æ€»ç»“

**æ¥å£å®ç°çŠ¶å†µ**:
- âœ… **100% æ¥å£è¦†ç›–ç‡**ï¼ˆ120+/120+ï¼‰
- âœ… æ‰€æœ‰ç®¡ç†ç«¯æ¥å£è·¯å¾„ç»Ÿä¸€ä½¿ç”¨ `/api/admin/*` å‰ç¼€
- âœ… æ‰€æœ‰æ¥å£æƒé™æ§åˆ¶å®Œå–„
- âœ… å‰åç«¯æ¥å£å®Œå…¨å¯¹æ¥

**å‰ç«¯å¯¹æ¥æƒ…å†µ**:
- ğŸ“Š **é—¨æˆ·ç«¯æ¥å£è¦†ç›–ç‡**: 87% (27/31 å®Œå…¨å¯¹æ¥)
- ğŸ“Š **ç®¡ç†ç«¯æ¥å£è¦†ç›–ç‡**: 100% (16/16 å®Œå…¨å¯¹æ¥)
- ğŸ“Š **æ€»ä½“è¦†ç›–ç‡**: 91% (43/47 å®Œå…¨å¯¹æ¥)

**äº®ç‚¹åŠŸèƒ½**:
- ğŸŒŸ å®Œæ•´çš„ç³»ç»Ÿç›‘æ§ï¼ˆå¥åº·æ£€æŸ¥ã€æ€§èƒ½ç›‘æ§ã€é”™è¯¯æ—¥å¿—ï¼‰
- ğŸŒŸ æ ¡å›­ç”¨æˆ·è¿ç§»åŠŸèƒ½
- ğŸŒŸ æ ‡ç­¾åˆå¹¶åŠŸèƒ½
- ğŸŒŸ åŠŸèƒ½å¼€å…³ç°åº¦å‘å¸ƒ
- ğŸŒŸ é»‘åå•ç®¡ç†å‘˜æ‰¹é‡æ“ä½œå’Œç»Ÿè®¡
- ğŸŒŸ ç”¨æˆ·ç™»å½•è®¾å¤‡ç®¡ç†ã€ä¸¤æ­¥éªŒè¯ï¼ˆ2FAï¼‰
- ğŸŒŸ æ“ä½œæ—¥å¿—ç®¡ç†ï¼ˆå¤šç»´åº¦ç­›é€‰+ç»Ÿè®¡ï¼‰

**ä¸‹ä¸€æ­¥å»ºè®®**:
1. å®Œå–„é—¨æˆ·ç«¯çº çº·å¤„ç†ç³»ç»Ÿï¼ˆP2ä¼˜å…ˆçº§ï¼‰
2. å®ç°é€šçŸ¥åå¥½è®¾ç½®ï¼ˆP2ä¼˜å…ˆçº§ï¼‰
3. é‡æ–°ç”Ÿæˆ OpenAPI æ–‡æ¡£
4. æ›´æ–°å‰ç«¯ API ä»£ç 
5. ç¼–å†™æ¥å£é›†æˆæµ‹è¯•

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

### OpenAPI æ–‡æ¡£ç”Ÿæˆ
```bash
cd backend
mvn -P openapi openapi-generator:generate
```

### å‰ç«¯ API ç±»å‹æ›´æ–°
```bash
cd frontend
pnpm api:generate
```

### Swagger æ–‡æ¡£è®¿é—®
```
å¼€å‘ç¯å¢ƒ: http://localhost:8200/swagger-ui.html
ç”Ÿäº§ç¯å¢ƒ: https://api.example.com/swagger-ui.html
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### å‰ç«¯è°ƒç”¨
```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ OpenAPI ç”Ÿæˆçš„æœåŠ¡
import { disputeService } from '@campus/shared/services';
const data = await disputeService.getList();

// âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨ axios
const response = await axios.get('/api/admin/disputes');
```

### æƒé™æ£€æŸ¥
```typescript
// å‰ç«¯æƒé™å®ˆå«
<PermissionGuard permission={PERMISSION_CODES.SYSTEM_DISPUTE_MANAGE}>
  <DisputeList />
</PermissionGuard>
```

```java
// åç«¯æƒé™æ³¨è§£
@PreAuthorize("hasAuthority(T(com.campus.marketplace.common.security.PermissionCodes).SYSTEM_DISPUTE_MANAGE)")
```

---

**æ–‡æ¡£ç»´æŠ¤**: BaSui ğŸ˜
**æ›´æ–°é¢‘ç‡**: éšåŠŸèƒ½è¿­ä»£å®æ—¶æ›´æ–°
**åé¦ˆæ¸ é“**: é¡¹ç›® Issues
        